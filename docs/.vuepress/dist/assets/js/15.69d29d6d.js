(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{369:function(s,t,e){"use strict";e.r(t);var a=e(42),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"깃허브-페이지-vuepress-2-설치-및-업로드"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#깃허브-페이지-vuepress-2-설치-및-업로드"}},[s._v("#")]),s._v(" 깃허브 페이지 & Vuepress[2] - 설치 및 업로드")]),s._v(" "),e("h2",{attrs:{id:"vuepress란"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuepress란"}},[s._v("#")]),s._v(" Vuepress란?")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("정적 페이지 생성기")]),s._v(" "),e("p",[s._v("마크다운 파일(.md)파일을 HTML파일로 자동 변환 해주어 웹페지 지 모양으로 만들어준다.")]),s._v(" "),e("p",[s._v("동적인 페이지가 아니므로, 특정 폴더와 연동하여 파일들의 목록을 노출시킨다. 파일을 선택하면 해당 페이지가 웹 페이지로 변환되어 있으므로, 웹 페이지를 이동하는 것처럼 된다.")])]),s._v(" "),e("li",[e("p",[s._v("vuepress는 뷰, 뷰 라우터, 뷰 웹팩 구조를 따르고 있다. 공식 페이지도 뷰 프레스로 만들어졌다.")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://vuepress.vuejs.org/guide/#features",target:"_blank",rel:"noopener noreferrer"}},[s._v("Introduction | VuePress"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[s._v("Evan You가 직접 소개한 영상")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.youtube.com/watch?v=lIv1ItUzktc&t=41s",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.youtube.com/watch?v=lIv1ItUzktc&t=41s"),e("OutboundLink")],1)])])]),s._v(" "),e("h2",{attrs:{id:"vuepress-테마"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-테마"}},[s._v("#")]),s._v(" Vuepress 테마")]),s._v(" "),e("p",[s._v("지킬처럼 뷰도 테마들이 있다. 지킬보다 수는 적다. 테마를 사용하지 않더라도 뷰프레스를 처음부터 만들고 커스텀하려 할 때, 코드들을 보면서 도움을 받을 수 있을 것 같다.")]),s._v(" "),e("p",[s._v("뷰프레스 테마 뿐만 아니라 다양한 플러그인들을 정리한 목록")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/vuepressjs/awesome-vuepress#plugins",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepressjs/awesome-vuepress"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"vuepress-설치하기"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-설치하기"}},[s._v("#")]),s._v(" Vuepress 설치하기")]),s._v(" "),e("p",[s._v("공식 사이트에 나온 매뉴얼을 따라갔다.")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://vuepress.vuejs.org/guide/getting-started.html#manual-installation",target:"_blank",rel:"noopener noreferrer"}},[s._v("Getting Started | VuePress"),e("OutboundLink")],1)]),s._v(" "),e("ol",[e("li",[s._v("깃허브 페이지 로컬 리포지토리에서 터미널을 열고 아래의 명령어 입력한다.")])]),s._v(" "),e("blockquote",[e("p",[s._v("npm init")])]),s._v(" "),e("p",[s._v("→ package.json파일이 생성된다.")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install -D vuepress")])]),s._v(" "),e("p",[s._v("→ vuepress 가 설치된다.")]),s._v(" "),e("blockquote",[e("p",[s._v("mkdir docs && echo '# Hello VuePress' > docs/README.md")])]),s._v(" "),e("p",[s._v("→ 아마도 메인 페이지로 컴파일 될 마크다운 파일 작성. docs 폴더 안에 README.md파일 생성된다.")]),s._v(" "),e("blockquote",[e("p",[s._v("vi package.json")])]),s._v(" "),e("p",[s._v("package.json파일을 열고 아래의 스크립트를 저장하고 나온다.")]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"docs:dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"docs:build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("blockquote",[e("p",[s._v("npm run docs:build")])]),s._v(" "),e("p",[s._v("→ 마크다운 문서를 html로 렌더링한다.")]),s._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[s._v("$ wait Rendering "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTML")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SUCESS")]),s._v(" Generated "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" files "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" docs"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vuepress"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])])]),e("blockquote",[e("p",[s._v("npm run docs:dev")])]),s._v(" "),e("p",[s._v("→ 뷰프레스 프로젝트를 로컬 서버로 돌린다.")]),s._v(" "),e("p",[s._v("http://localhost:8080/ 로 이동하면, 마크다운에서 변환된 html문서가 로드된다.")]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"vuepress를-깃허브-페이지로-설정하기"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuepress를-깃허브-페이지로-설정하기"}},[s._v("#")]),s._v(" vuepress를 깃허브 페이지로 설정하기")]),s._v(" "),e("h3",{attrs:{id:"잘못된-방식"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#잘못된-방식"}},[s._v("#")]),s._v(" !!!잘못된 방식!!!")]),s._v(" "),e("p",[s._v("깃허브 페이지 리파지토리에서 settings → options → github pages 에 들어가서 깃허브 페이지의 루트 폴더를 docs로 설정한다. 브랜치는 master:gh-pages를 생성해서 올리는 것 같은데 일단 master로 올렸다.")]),s._v(" "),e("p",[s._v("![img](/git/Vuepress & 깃허브 페이지[2]/_2020-09-28__7.39.52.png)")]),s._v(" "),e("p",[s._v("로컬 리포지토리에서 터미널을 열고")]),s._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[s._v("$ git add "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v("\n$ git commit "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress deploy"')]),s._v("\n$ git push origin master\n")])])]),e("p",[s._v("리포지토리에 docs폴더가 올라가면 깃 페이지 주소로 찾아가서 확인해본다.")]),s._v(" "),e("p",[s._v("./docs의 readme.md 파일이 나온다. 그런데 vuepress형식이 아니다.")]),s._v(" "),e("p",[s._v("vuepress에서 빌드한 결과물이 올라간 것이 아니라 마크다운 파일만 인식해서 html로 변환하여 올린 페이지가 로드되었다.")]),s._v(" "),e("p",[s._v("깨달은 점 :")]),s._v(" "),e("p",[e("strong",[s._v("vuepress를 이용해서 웹 사이트를 생성한 후에 빌드 결과물만 올리는 형식이 되어야 하는데, 웹사이트 만드는 뷰프레스 프로젝트 자체를 올려 버리는 잘못을 했다.")])]),s._v(" "),e("h3",{attrs:{id:"수정한-방식"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#수정한-방식"}},[s._v("#")]),s._v(" !!! 수정한 방식 !!!")]),s._v(" "),e("p",[s._v("github pages설정만 바꾸어 준다.")]),s._v(" "),e("p",[s._v("어차피 docs폴더는 컴포넌트와 테마를 추가하면서 리포지토리에 계속 저장할 것이다. 깃허브 페이지로 만들어 주는 것을 dist폴더로만 한정하면 된다.")]),s._v(" "),e("p",[s._v("애초에 공식 사이트에서도 dist폴더만 깃에 푸시한다. 일단 공식 사이트에 나온대로 docs폴더에 diploy.sh파일을 하나 만들어 준다.")]),s._v(" "),e("blockquote",[e("p",[s._v("vi deploy.sh")])]),s._v(" "),e("p",[s._v("(./docs/deploy.sh)")]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[s._v("#!/usr/bin/env sh\n\n# abort on errors\nset -e\n\n# build\nnpm run docs"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("build\n\n# navigate into the build output directory\ncd docs/.vuepress/dist\n\n# if you are deploying to a custom domain\n# echo 'www.example.com' > CNAME\n\ngit init\ngit add -A\ngit commit -m 'deploy'\n\n# if you are deploying to https"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//<USERNAME>.github.io")]),s._v("\n# git push -f git@github.com"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("<USERNAME>/<USERNAME>.github.io.git master\n\n# if you are deploying to https"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//<USERNAME>.github.io/<REPO>")]),s._v("\ngit push -f git@github.com-c-dance"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("c-dance/c-dance.github.io.git master"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("gh-pages\n\ncd -\n")])])]),e("p",[s._v("이렇게 저장하면, 맨 밑 줄의")]),s._v(" "),e("p",[e("strong",[s._v("git push -f git@github.com-c-dance:c-dance/c-dance.github.io.git master:gh-pages")])]),s._v(" "),e("p",[s._v("에 의해서\n"),e("strong",[s._v("docs/.vuepress/dist")]),s._v(" 폴더만 "),e("strong",[s._v("gh-branch")]),s._v(" 브랜치로 푸시된다. (pr이 올라간다)")]),s._v(" "),e("p",[s._v("그러면 다시 리포지토리의 settings → options → github pages 으로 가서 깃허브 페이지에 로드 되는 것은 "),e("strong",[s._v("gh-branch")]),s._v(" 로 ./root 폴더로 푸시되는 것으로 한정한다는 설정을 해준다.")]),s._v(" "),e("p",[s._v("![img](/git/Vuepress & 깃허브 페이지[2]/_2020-09-29__12.07.41.png)")]),s._v(" "),e("p",[s._v("docs폴더로 가서 터미널에 아래 명령어로 sh을 실행한다.")]),s._v(" "),e("blockquote",[e("p",[s._v("sh deploy.sh")])]),s._v(" "),e("p",[s._v("뷰프레스를 이용한 결과물이 로드된다.")]),s._v(" "),e("h2",{attrs:{id:"추가"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#추가"}},[s._v("#")]),s._v(" ! 추가 !")]),s._v(" "),e("p",[s._v("만약에 docs 내부 파일들을 수정한 후 "),e("a",{attrs:{href:"http://deploy.sh",target:"_blank",rel:"noopener noreferrer"}},[s._v("deploy.sh"),e("OutboundLink")],1),s._v(" 을 실행하면 빌드 파일에는 수정 결과가 반영되어 깃 페이지에 로드 되지만 수정한 원본 파일은 master 브랜치로 따로 푸시해야 한다.")]),s._v(" "),e("p",[e("a",{attrs:{href:"http://deploy.sh",target:"_blank",rel:"noopener noreferrer"}},[s._v("deploy.sh"),e("OutboundLink")],1),s._v("  상단에 아래 스크립트를 추가 하면 "),e("strong",[s._v("master")]),s._v(" 브랜치로 리포지토리에 수정 내역도 반영하고, 빌드 결과물도 "),e("strong",[s._v("gh-pages")]),s._v(" 브랜치를 통해 올라 간다. (빌드 결과물만 올라가도 상관은 없지만, 원본 파일도 리포지토리에 저장하고 싶어서...)")]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[s._v("git add -A\ngit commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs modified"')]),s._v("\ngit push origin master\n")])])]),e("p",[s._v("리포지토리에도, 깃허브 페이지에도 반영 되었다. 다만 깃허브 페이지는 시간이 좀 걸린다. 체감상 10분 정도 소요되는 것 같다.")])])}),[],!1,null,null,null);t.default=r.exports}}]);